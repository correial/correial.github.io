<!doctype html><html lang=en xmlns=http://www.w3.org/1999/xhtml><head><meta charset=UTF-8><meta name=description><meta content="width=device-width,initial-scale=1" name=viewport><meta content=#ff7800 name=theme-color><meta content=#ffa348 media=(prefers-color-scheme:dark) name=theme-color><title>MAE 4190 Fast Robots - Home</title><link href=https://correial.github.io/Portfolio/fast-robots/ rel=canonical><link href=https://correial.github.io/favicon.png rel=icon type=image/png><link href=https://correial.github.io/apple-touch-icon.png rel=apple-touch-icon sizes=180x180 type=image/png><link title="Home - RSS Feed" href=https://correial.github.io/rss.xml rel=alternate type=application/rss+xml><link title="Home - Atom Feed" href=https://correial.github.io/atom.xml rel=alternate type=application/atom+xml><style>:root{--accent-color:#ff7800}[data-theme=dark]{--accent-color:#ffa348}@media (prefers-color-scheme:dark){:root:not([data-theme=light]){--accent-color:#ffa348}}</style><link href=https://correial.github.io/style.css rel=stylesheet><link href=https://correial.github.io/fonts.css rel=stylesheet><link href=https://correial.github.io/katex.css rel=stylesheet><link media="(prefers-color-scheme: light)" href=https://correial.github.io/syntax-theme-light.css rel=stylesheet><link media="(prefers-color-scheme: dark)" href=https://correial.github.io/syntax-theme-dark.css rel=stylesheet><script defer src=https://correial.github.io/closable.js></script><script defer src=https://correial.github.io/copy-button.js></script><script defer src=https://correial.github.io/katex.min.js></script><script defer src=https://correial.github.io/auto-render.min.js></script><script defer src=https://correial.github.io/katex-init.js></script><script defer src=https://correial.github.io/fuse.js></script><script defer src=https://correial.github.io/search-fuse.js></script><script defer src=https://correial.github.io/theme-switcher.js></script><meta content=Home property=og:site_name><meta content="MAE 4190 Fast Robots - Home" property=og:title><meta content=https://correial.github.io/Portfolio/fast-robots/ property=og:url><meta content="Cornell Engineering course where I designed and fabricated a fast autonomous car with dynamic system modeling and reactive control via integrating gyroscope and time-of-flight sensor feedback on an embedded processor." property=og:description><meta content=https://correial.github.io/card.png property=og:image><meta content=en_US property=og:locale><link href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css rel=stylesheet><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js></script><script onload="renderMathInElement(document.body, {
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false}
          ],
          displayMode: true
        });" defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js></script><body><header id=site-nav><nav><a href=#main-content tabindex=0> Skip to Main Content </a><ul><li id=home><a href=https://correial.github.io> <i class=icon></i>Home</a><li class=divider><li><a href=https://correial.github.io/Portfolio/>Portfolio</a><li><a href=https://correial.github.io/resume/>Resume</a><li id=search><button class=circle id=search-toggle title=Search><i class=icon></i></button><li id=theme-switcher><details class=closable><summary class=circle title=Theme><i class=icon></i></summary> <ul><li><button title="Switch to Light Theme" class=circle id=theme-light><i class=icon></i></button><li><button title="Switch to Dark Theme" class=circle id=theme-dark><i class=icon></i></button><li><button title="Use System Theme" class=circle id=theme-system><i class=icon></i></button></ul></details></ul></nav><div id=search-container><label class=visually-hidden for=search-bar>Search</label><input placeholder="Search for‚Ä¶" autocomplete=off disabled id=search-bar type=search><div id=search-results-container><div id=search-results></div></div></div></header><main id=main-content><article><div id=heading><h1>MAE 4190 Fast Robots</h1><p><small><span>10 minutes read</span><span> ‚Ä¢ </span></small><ul class=tags><li><a class=tag href=https://correial.github.io/tags/robotics/>Robotics</a><li><a class=tag href=https://correial.github.io/tags/c/>C++</a><li><a class=tag href=https://correial.github.io/tags/electrical-integration/>Electrical Integration</a><li><a class=tag href=https://correial.github.io/tags/sensors/>Sensors</a><li><a class=tag href=https://correial.github.io/tags/python/>Python</a><li><a class=tag href=https://correial.github.io/tags/pid-control/>PID Control</a><li><a class=tag href=https://correial.github.io/tags/microcontroller/>Microcontroller</a><li><a class=tag href=https://correial.github.io/tags/localization/>Localization</a><li><a class=tag href=https://correial.github.io/tags/path-planning/>Path Planning</a></ul></div><div id=buttons-container><a title="Go to Top" href=#top id=go-to-top><i class=icon></i></a><a href="https://shareopenly.org/share/?url=https://correial.github.io/Portfolio/fast-robots/&text=Cornell%20Engineering%20course%20where%20I%20designed%20and%20fabricated%20a%20fast%20autonomous%20car%20with%20dynamic%20system%20modeling%20and%20reactive%20control%20via%20integrating%20gyroscope%20and%20time-of-flight%20sensor%20feedback%20on%20an%20embedded%20processor." id=share title=Share><i class=icon></i></a></div><p>This page showcases my work in MAE 4190 Fast Robots, a course centered on the systems-level design and implementation of dynamic autonomous robots. Over the semester, I designed and fabricated a fast autonomous car with dynamic system modeling and reactive control via integrating gyroscope and time-of-flight sensor feedback on an embedded processor. The course also explored the advantages of partial off-board computation, low-latency software, and noise-tolerant implementation.<h2 id=highlights-from-each-lab>Highlights from Each Lab</h2><p>Below are highlights from each lab building up to the final lab where I achieved fully autonomous navigation and path planning via real time localization and linear/angular PID control. For detailed documentation of each lab with code reference my <a rel="noopener noreferrer" href=https://correial.github.io/LuccaFastRobots/Fast%20Robots%20Stuff/ target=_blank>Fast Robots site</a>.<h3 id=lab-1-artemis-setup-and-communcation>Lab 1: Artemis Setup and Communcation</h3><h4 id=key-takeaways>Key Takeaways:</h4><ul><li>Installed and configured the Artemis successfully<li>Set up a reliable communication link between Artemis (peripheral) and computer (client)<li>Built methods for both real-time and batch data collection to compare responsiveness and accuracy in sampling<li>Customized UUIDs to avoid device conflicts and wrote Python scripts for BLE command transmission and processing</ul><h3 id=lab-2-imu>Lab 2: IMU</h3><h4 id=key-takeaways-1>Key Takeaways:</h4><ul><li>Configured ICM-20948 IMU over I2C, verified accelerometer and gyroscope readings.<li>Converted accelerometer outputs to pitch and roll; validated accuracy across ¬±90¬∞.<li>Implemented FFT + low-pass filter (cutoff 5 Hz) to characterize and reduce noise while preserving motion signals.<li>Integrated gyro drift-prone data with accelerometer stability using a complementary filter (Œ± = 0.0876).<li>Achieved ~350 Hz sample rate, 25 seconds of buffered IMU data, and confirmed smooth motion capture during stunts.</ul><img alt="Alt text" src="/Fast Robots Media/Lab 2/LPF_FFT_RAW_OSS.png" style=display:block><figcaption>Raw and Fourier Transform Data with Low Pass Filter - Hand Osscilations</figcaption><img alt="Alt text" src="/Fast Robots Media/Lab 2/CompResults.png" style=display:block><figcaption>Complementary Filter Gyro vs. Low Pass Filter Accelerometer</figcaption><h3 id=lab-3-time-of-flight-sensors>Lab 3: Time of Flight Sensors</h3><h4 id=key-takeaways-2>Key Takeaways:</h4><ul><li>Used XSHUT pin to reassign I2C addresses, enabling two ToF sensors in parallel.<li>Wired sensors to Qwiic breakout with soldered battery leads, tested mounting layout.<li>Verified accuracy across 100‚Äì200 mm; identified noise below 40 mm due to sensor limits.<li>Measured ~11 Hz sampling rate; confirmed ToF was the bottleneck compared to ~98 Hz IMU.<li>Collected synchronized ToF + IMU data over BLE, validating angle/distance correlation.<li>Characterized ToF noise</ul><img alt="Alt text" src="/Fast Robots Media/Lab 3/150mm.png" style=display:block><figcaption>150 mm Test</figcaption><h3 id=lab-4-motor-drivers-and-open-loop-control>Lab 4: Motor Drivers and Open Loop Control</h3><h4 id=key-takeaways-3>Key Takeaways:</h4><ul><li>Designed drivetrain wiring: Artemis pins (13, A14, A15, A16) to dual motor drivers with PWM control.<li>Used separate batteries for Artemis vs. motors to reduce noise and protect sensitive electronics.<li>Verified PWM duty cycles on oscilloscope and tested forward/reverse/spin maneuvers.<li>Determined lower PWM thresholds (35 forward/reverse, 110 spin).<li>Calibrated wheel imbalance with multiplicative correction factors (1.05, 1.3) to achieve straight-line motion.<li>Fully integrated IMU, ToF, motor drivers, and power onto the chassis for open-loop tests.</ul><style>.side-by-side{flex-wrap:wrap;justify-content:center;gap:20px;display:flex}.side-by-side figure{text-align:center;flex:45%;margin:0}.side-by-side img{border-radius:8px;max-width:100%;height:auto}</style><div class=side-by-side><figure><img alt="Front of Car" src="/Fast Robots Media/Lab 4/front.png"><figcaption>Front of Car</figcaption></figure><figure><img alt="Top of Car" src="/Fast Robots Media/Lab 4/topcar.png"><figcaption>Top of Car</figcaption></figure></div><h3 id=lab-5-linear-pid-control-and-linear-interpolation>Lab 5: Linear PID Control and Linear Interpolation</h3><h4 id=key-takeaways-4>Key Takeaways:</h4><ul><li>Implemented BLE command PID_CONTROL to send PID gains (Kp, Ki, Kd) and target ToF distance to the Artemis.<li>Developed pid_speed_ToF() function with logic for tolerance, saturation, motor deadband, and direction switching.<li>Tuned Proportional control (Kp = 0.05‚Äì0.08) to keep PWM speeds reasonable at large errors; deadband added for small errors.<li>Added Derivative control (Kd ‚âà 6) to slow the robot proportionally to error slope, preventing overshoot into the wall.<li>Found ToF sampling limited to ~9.24 Hz, causing discrete jumps in derivative term.<li>Implemented extrapolation to achieve ~172 Hz loop speed, interpolating distances between ToF readings.<li>Verified with PD + extrapolation (Kp = 0.2, Kd = 3): robot could start 2.7 m from wall and still stop at 1 ft target without overshoot.<li>Demonstrated near-zero steady-state error at higher speeds, eliminating need for integral term.</ul><img alt="Alt text" src="/Fast Robots Media/Lab 5/Kp.05Kd6.png" style=display:block><figcaption>PD Control</figcaption><iframe allowfullscreen height=315 src=https://www.youtube.com/embed/0FQvu8WyHYI width=450></iframe><figcaption>Proportional Control #1</figcaption><iframe allowfullscreen height=315 src=https://www.youtube.com/embed/TU_ZbfE4Ph0 width=450></iframe><figcaption>PD Control #2 - Extrapolation</figcaption><h3 id=lab-6-orientation-control>Lab 6: Orientation Control</h3><h4 id=key-takeaways-5>Key Takeaways:</h4><ul><li>Implemented PID turning control loop using IMU DMP yaw data.<li>Mapped PWM outputs into robot‚Äôs floor/ceiling bounds to achieve smooth PID instead of binary switching.<li>Added low-pass filter (ùõº = 0.1) on derivative term to reduce noise and derivative kick.<li>Fixed overshoot by inserting 1-second low-PWM delay before rotation.<li>Tuned gains to Kp=1.65, Kd=130, achieving ¬±2¬∞ accuracy in disturbance tests and waypoint navigation.<li>Verified IMU DMP sampling at ~549 Hz, sufficient for high-speed control loops.</ul><img alt="Alt text" src="/Fast Robots Media/Lab 6/NoMappingP.png" style=display:block><figcaption>No Mapping Control</figcaption><iframe allowfullscreen height=315 src=https://www.youtube.com/embed/S883NBawxys width=450></iframe><figcaption>Disturbance Correction Kp=1.65 | Kd=130</figcaption><img alt="Alt text" src="/Fast Robots Media/Lab 6/FinalBumper.png" style=display:block><figcaption>Disturbance Correction Kp=1.65 | Kd=130</figcaption><h3 id=lab-7-kalman-filter>Lab 7: Kalman Filter</h3><h4 id=key-takeaways-6>Key Takeaways:</h4><ul><li>Modeled car dynamics with drag and mass parameters estimated from ToF velocity profiles <ul><li>m ‚âà 0.39 kg, d ‚âà 0.41 kg/s</ul><li>Built Python Kalman simulation to fuse ToF data with state-space dynamics <ul><li>Tested trust weighting by varying sigma1, sigma2, sigma3</ul><li>Confirmed filter could run at ToF sampling rate (95 ms) and faster PID loop rate (20 ms)<li>Integrated filter on-board: predicted state when ToF was unavailable, improving control continuity<li>Demonstrated proportional control overshot wall stops, but <strong>PD + Kalman</strong> achieved smooth approach and near-zero overshoot at 300 mm target<li>Discussed parameter tuning: <ul><li>m, d set dynamics<li>u scaling improved model fit<li>sigma values balanced model vs. sensor trust</ul></ul><img alt="Alt text" src="/Fast Robots Media/Lab 7/ToFandVelo.png" style=display:block><figcaption>ToF and Velocity Data</figcaption><style>.side-by-side{flex-wrap:wrap;justify-content:center;gap:20px;display:flex}.side-by-side figure{text-align:center;flex:45%;margin:0}.side-by-side img{border-radius:8px;max-width:100%;height:auto}</style><div class=side-by-side><figure><img alt="Close ToF" src="/Fast Robots Media/Lab 7/CLoseToF.png"><figcaption>dt = 0.095 | dx = 0.47 | $\sigma_1$ & $\sigma_2$ = 65 | $\sigma_3$ = 57.5</figcaption></figure><figure><img alt="Sped Up" src="/Fast Robots Media/Lab 7/Sped up.png"><figcaption>dt = 0.02 | $\sigma_1$ & $\sigma_2$ = 32.4 | $\sigma_3$ = 57.5</figcaption></figure></div><img alt="Alt text" src="/Fast Robots Media/Lab 7/State Space On Robot.png" style=display:block><figcaption>Kalman Filter Dynamics Test</figcaption><img alt="Alt text" src="/Fast Robots Media/Lab 7/AT .12|0|60|300.png" style=display:block><figcaption>Kalman Filter PD Kp = .12 | Kd = 60</figcaption><iframe allowfullscreen height=315 src=https://www.youtube.com/embed/HvY___Nhg7A width=450></iframe><figcaption>Kalman Filter PD Control</figcaption><h3 id=lab-8-stunts>Lab 8: Stunts</h3><h4 id=key-takeaways-7>Key Takeaways:</h4><ul><li>Designed flip stunt triggered via Bluetooth (CMD.STUNT), parameterized by wall distance for flexible tuning<li>Used ToF + Kalman fusion to track distance in real time during stunt execution<li>Tuned state-space A/B matrices to improve distance predictions; still noted velocity underestimation in KF<li>Achieved consistent flips on mat placed 300 mm from wall; best trials completed in about 2.3 s<li>Corrected drift with motor scaling factors (0.95 forward, 0.90 reverse) to keep trajectory straight<li>Explored added front mass for nose-dive, but found battery charge level had greater effect on success</ul><iframe allowfullscreen height=315 src=https://www.youtube.com/embed/3NoplLiZmkU width=450></iframe><figcaption>Flip Trial 3 | Time: 2.30s</figcaption><h3 id=lab-9-mapping>Lab 9: Mapping</h3><h4 id=key-takeaways-8>Key Takeaways:</h4><ul><li>Implemented on-axis spin using IMU DMP yaw control with PID, turning in 12¬∞ steps for 30 total increments<li>Collected about 2780 ToF samples per rotation; achieved ~1.5 in average positional error due to wheel drift/slip<li>Verified minimal overshoot at slow spin speeds; tradeoff between accuracy and memory usage<li>Converted raw ToF readings into global coordinates using homogeneous transformation matrices<li>Built full-room ToF map; noise caused arcs and spurious lines, but overall map aligned closely with ground truth<li>Estimated walls from ToF scans and overlaid them with the known map for validation</ul><iframe allowfullscreen height=315 src=https://www.youtube.com/embed/HBY2xBkobXg width=450></iframe><figcaption>360¬∞ Data Collection Scan</figcaption><img alt="Alt text" src="/Fast Robots Media/Lab 9/MapPoints.png" style=display:block><figcaption>Mapping Scans</figcaption><div style=justify-content:center;align-items:flex-start;gap:20px;margin-top:0;padding-top:0;display:flex><figure style=text-align:center;margin:0><img alt="ToF Arena Map 1" src="/Fast Robots Media/Lab 9/MapwLines.png" style=width:auto;height:300px><figcaption style=margin-top:5px>ToF Arena Map with Estimated Lines and True Map</figcaption></figure><figure style=text-align:center;margin:0><img alt="ToF Arena Map 2" src="/Fast Robots Media/Lab 9/MapIRL.jpeg" style=width:auto;height:300px><figcaption style=margin-top:5px>ToF Arena Map with Estimated Lines and True Map</figcaption></figure></div><h3 id=lab-10-grid-localization-using-bayes-filter>Lab 10: Grid Localization using Bayes Filter</h3><h4 id=key-takeaways-9>Key Takeaways:</h4><ul><li>Implemented Bayes Filter in Python to probabilistically track robot state (x, y, Œ∏) in a discretized 3D grid<li>Built odometry motion model: initial rotation, translation, final rotation; incorporated Gaussian noise<li>Developed prediction step to propagate belief via motion model; optimized by skipping negligible states<li>Created sensor model using ToF likelihoods; updated belief grid via Bayesian inference<li>Simulation showed odometry drifted, but Bayes Filter belief (blue) aligned closely with ground truth (green)<li>Performed best near walls since shorter ToF distances produced more accurate sensor updates</ul><iframe allowfullscreen height=315 src=https://www.youtube.com/embed/XKlgeoXnjIc width=450></iframe><figcaption>Bayes Simulation</figcaption><h3 id=lab-11-localization-on-the-real-robot>Lab 11: Localization on the Real Robot</h3><h4 id=key-takeaways-10>Key Takeaways:</h4><ul><li>Implemented update step on robot: performed spins, collected 36 ToF readings at 10¬∞ intervals, and sent data over BLE<li>Ensured accuracy by pausing 500 ms at each angle before capturing ToF<li>Results: localized robot within ~8 in of true pose; ToF underestimation shifted beliefs closer to walls<li>Adjusted ToF mounting angle and reduced sensor noise parameter (sigma = 0.05) for improved reliability<li>Demonstrated successful belief updates at multiple coordinates; belief (blue) tracked near ground truth (green)</ul><img alt="Alt text" src="/Fast Robots Media/Lab 11/Sim.png" style=display:block><figcaption>Localization Simulation - Belief (blue), Ground Truth (green)</figcaption><h3 id=lab-12-path-planning-and-final-project>Lab 12: Path Planning and Final Project</h3><h4 id=key-takeaways-11>Key Takeaways:</h4><ul><li>Combined all subsystems: waypoint navigation, PID orientation/linear control, Kalman ToF filtering, and Bayes localization<li>Defined waypoint list with localization flags for selective belief updates along path<li>Orientation PID: computed heading with atan2, rotated using DMP-based control with cutoff timer<li>Linear PID: calculated target distance via ToF and belief position; advanced to waypoint<li>Ran localization scans at chosen waypoints using SPIN case (Lab 11 method)<li>Early runs showed overshoot and derivative blow-up; final run achieved smooth autonomous navigation through all waypoints<li>Demonstrated complete system integration: perception, control, and planning working reliably in the real arena</ul><img alt="Alt text" src="/Fast Robots Media/Lab 12/Plan.png" height=400 style=display:block><figcaption>Navigation Plan</figcaption><iframe allowfullscreen height=315 src=https://www.youtube.com/embed/LJK30JyzM_U width=450></iframe><figcaption>Final Run</figcaption></article><hr><nav id=post-nav><a class="post-nav-item post-nav-prev" href=https://correial.github.io/Portfolio/cornell-nexus/> <div class=nav-arrow>Previous</div> <span class=post-title>Cornell Nexus</span> </a><a class="post-nav-item post-nav-next" href=https://correial.github.io/Portfolio/foundation-robotics/> <div class=nav-arrow>Next</div> <span class=post-title>Mechanical Engineering Intern @ Foundation</span> </a></nav><span class=hidden id=copy-code-text>Copy Code</span><span class=hidden id=search-index>https://correial.github.io/search_index.en.json</span><span class=hidden id=more-matches-text>$MATCHES more matches</span></main><footer id=site-footer></footer>